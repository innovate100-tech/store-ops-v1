# PHASE 9 / STEP 9-1D — 라벨 명확성 및 중복 연결 가드 완료

## 📋 작업 목표

"가게 설계" 메뉴 트리에서 임시 연결로 인해 동일 페이지로 연결되는 메뉴의 혼선을 줄이기 위해 라벨/설명/가드를 최소 변경했습니다. (UI 리디자인 금지)

---

## ✅ 완료된 작업

### TASK A) Sidebar Label 수정
- **"수익 구조 설계실"** → **"수익 구조 설계실 (임시)"**
- **"목표 비용 구조"** → **"목표 비용 구조 (입력)"**
- 중복 체감 제거를 위해 부제 추가

### TASK B) Page-level 안내 배너 추가
- `target_cost_structure.py` 페이지 최상단에 작은 안내 문구 추가
- 안내 메시지: "현재 '수익 구조 설계실'은 목표 비용 구조 페이지로 임시 연결되어 있습니다."
- 버튼 2개:
  1. "📋 목표 비용 구조로 보기" (활성화, 같은 페이지로 이동)
  2. "🚧 수익 구조 설계실 (준비중)" (비활성화, 안내 목적)

---

## 📝 변경 사항 요약

### 1. 사이드바 라벨 변경 (`app.py`)

**변경 전**:
```python
"🔥 가게 설계": [
    ...
    ("수익 구조 설계실", "목표 비용구조"),
    ("목표 비용 구조", "목표 비용구조"),
    ...
],
```

**변경 후**:
```python
"🔥 가게 설계": [
    ...
    ("수익 구조 설계실 (임시)", "목표 비용구조"),
    ("목표 비용 구조 (입력)", "목표 비용구조"),
    ...
],
```

### 2. 페이지 안내 배너 추가 (`ui_pages/target_cost_structure.py`)

**추가된 내용**:
- 페이지 헤더 바로 아래에 안내 문구 추가
- 정보 박스(`st.info`)로 표시
- 2개 버튼 제공 (1개 활성화, 1개 비활성화)
- 구분선(`---`) 추가

---

## 📊 최종 "가게 설계" 메뉴 트리 (라벨 포함)

1. 메뉴 설계실
2. 재료 구조 설계실
3. 메뉴 수익 구조 설계실
4. **수익 구조 설계실 (임시)** ← 라벨 수정
5. **목표 비용 구조 (입력)** ← 라벨 수정
6. 목표 매출 구조
7. 직원 연락망
8. 협력사 연락망
9. 게시판

---

## 🎯 사용자 경험 개선

### Before (혼선 가능)
- "수익 구조 설계실"과 "목표 비용 구조"가 같은 페이지로 연결되어 중복으로 보일 수 있음
- 사용자가 두 메뉴의 차이를 알기 어려움

### After (명확성 향상)
- "수익 구조 설계실 (임시)" → 임시 연결임을 명시
- "목표 비용 구조 (입력)" → 입력 기능임을 명시
- 페이지 상단 안내로 중복 연결 상황 설명
- 버튼으로 명확한 구분 제공

---

## 📝 수정된 파일 목록

### 1. `app.py`
**변경 내용**:
- 라인 1544: `"수익 구조 설계실"` → `"수익 구조 설계실 (임시)"`
- 라인 1545: `"목표 비용 구조"` → `"목표 비용 구조 (입력)"`

### 2. `ui_pages/target_cost_structure.py`
**변경 내용**:
- 라인 33-44: 페이지 헤더 아래에 안내 배너 추가
  - 안내 메시지 (`st.info`)
  - 2개 버튼 (활성화/비활성화)
  - 구분선

---

## ✅ 앱 실행 시 확인 체크리스트

### 사이드바 라벨 확인
- [ ] "🔥 가게 설계" Expander에서 "수익 구조 설계실 (임시)" 표시 확인
- [ ] "🔥 가게 설계" Expander에서 "목표 비용 구조 (입력)" 표시 확인
- [ ] 두 메뉴 항목이 구분되어 보이는지 확인

### 페이지 안내 배너 확인
- [ ] "수익 구조 설계실 (임시)" 클릭 시 → 목표 비용구조 페이지 상단에 안내 배너 표시
- [ ] "목표 비용 구조 (입력)" 클릭 시 → 목표 비용구조 페이지 상단에 안내 배너 표시
- [ ] 안내 메시지가 명확하게 표시되는지 확인
- [ ] "📋 목표 비용 구조로 보기" 버튼 클릭 시 페이지 정상 동작
- [ ] "🚧 수익 구조 설계실 (준비중)" 버튼이 비활성화되어 있는지 확인

### 사용자 혼선 해소 확인
- [ ] 두 메뉴 항목의 차이가 명확하게 구분되는지 확인
- [ ] 페이지 안내로 중복 연결 상황이 이해되는지 확인

---

## 🎯 기대 동작

### 사용자 경험
1. **라벨 명확성**: "(임시)"와 "(입력)" 부제로 메뉴 목적 구분
2. **안내 배너**: 페이지 상단 안내로 중복 연결 상황 설명
3. **버튼 가이드**: 명확한 액션 버튼 제공

### 코드 안정성
- 모든 페이지 키는 기존과 동일하게 유지
- 라우팅 코드 변경 없음
- Import 경로 변경 없음
- 기존 페이지 로직 변경 없음 (안내 배너만 추가)

---

## 📌 참고사항

### 임시 연결 상태
- **수익 구조 설계실**: 현재 `"목표 비용구조"` 페이지로 임시 연결
  - 라벨에 "(임시)" 표기로 상태 명시
  - 페이지 안내로 상황 설명
  - 향후 별도 페이지 구현 예정

### 목표 비용 구조
- **목표 비용 구조**: 비용 입력 및 관리 기능
  - 라벨에 "(입력)" 표기로 기능 명시
  - 수익 구조 설계실과 구분

---

## 🚀 배포 준비

모든 수정이 완료되었습니다. 다음 단계:
1. ✅ 앱 재시작
2. ✅ 사이드바 "🔥 가게 설계" Expander에서 새 라벨 확인
3. ✅ 두 메뉴 항목 클릭하여 페이지 안내 배너 확인
4. ✅ 사용자 혼선 해소 확인

---

## 📊 작업 요약

| 항목 | 상태 | 비고 |
|------|------|------|
| 사이드바 라벨 수정 | ✅ 완료 | "(임시)", "(입력)" 부제 추가 |
| 페이지 안내 배너 추가 | ✅ 완료 | 안내 메시지 + 버튼 2개 |
| 사용자 혼선 해소 | ✅ 완료 | 명확한 구분 제공 |
| 라우팅 코드 점검 | ✅ 완료 | 깨짐 없음 확인 |

---

## ✅ 최종 확인

- [x] "수익 구조 설계실 (임시)" 라벨 수정 완료
- [x] "목표 비용 구조 (입력)" 라벨 수정 완료
- [x] 페이지 안내 배너 추가 완료
- [x] 버튼 2개 추가 완료 (활성화/비활성화)
- [x] 라우팅 코드 점검 완료 (깨짐 없음)
- [ ] 앱 실행 및 동작 확인 (사용자 확인 필요)

**참고**: 
- 라벨 수정으로 메뉴 목적이 명확해졌습니다.
- 페이지 안내 배너로 중복 연결 상황이 설명됩니다.
- 향후 수익 구조 설계실 전용 페이지 구현 시 안내 배너 제거 예정입니다.
