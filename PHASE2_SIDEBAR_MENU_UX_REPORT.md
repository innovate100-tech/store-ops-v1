# Phase 2 사이드바/메뉴 UX 마감 — 결과보고서

**작업일:** 2025-01-23  
**대상:** Streamlit + Supabase 기반 외식업 사장용 앱  
**원칙:** 기능 추가/변경 금지, 라우팅·데이터·권한 로직 유지, 표시(라벨/구조/접기)만 변경

---

## 1. 목표

- 사장이 **「오늘 뭐 하면 되지?」** 흐름에 맞게 메뉴 정렬
- **공식 입력 vs 보정 도구** 구분이 메뉴에서 바로 보이도록 정리
- 페이지 기능은 그대로 두고, **메뉴 표시만** 개선

---

## 2. 수정 파일 및 블록

| 파일 | 위치 | 변경 내용 |
|------|------|-----------|
| `app.py` | 라인 1398~1467 | `menu_categories` 재정의, `_render_menu_buttons` 도입, 카테고리 루프에서 **(표시 라벨, page key)** 사용, **관리/보정** 섹션만 `st.sidebar.expander` 로 접기 |
| `app.py` | 라인 1582~1588 | `page == "홈"` 분기 추가 → 홈 placeholder 안내 문구 렌더링 |

**미수정:** 라우팅 분기(`if page == "..."`), 권한/로그인/스토어 가드, 데이터 로직 — **전부 기존 유지**

---

## 3. 사이드바 구조 변경 요약

### 3.1 섹션 헤더 (사장 언어 통일)

| 순서 | 섹션 헤더 |
|------|-----------|
| 1 | 🏠 사장 계기판 |
| 2 | 📋 오늘 마감 |
| 3 | 🛒 운영(내일 장사 준비) |
| 4 | 📊 분석(원인 찾기) |
| 5 | 🧾 성적표(월간) |
| 6 | ⚙️ 관리/보정(예외) |

### 3.2 표시 라벨 ↔ page key 매핑

**라우팅·조건문에는 page key만 사용.** 표시용 라벨만 아래처럼 변경함.

| 표시 라벨 | page key |
|-----------|----------|
| 홈 | `홈` |
| 점장 마감 | `점장 마감` |
| 발주 | `발주 관리` |
| 재료 사용 | `재료 사용량 집계` |
| 통합 대시보드 | `통합 대시보드` |
| 매출 | `매출 관리` |
| 판매 | `판매 관리` |
| 원가 | `원가 파악` |
| 목표 비용 | `목표 비용구조` |
| 목표 매출 | `목표 매출구조` |
| 실제정산 | `실제정산` |
| 주간 리포트 | `주간 리포트` |
| 매출 보정 | `매출 등록` |
| 판매량 보정 | `판매량 등록` |
| 메뉴 | `메뉴 등록` |
| 재료 | `재료 등록` |
| 레시피 | `레시피 등록` |
| 직원 | `직원 연락망` |
| 협력사 | `협력사 연락망` |
| 게시판 | `게시판` |

### 3.3 접기(expander) 적용

- **⚙️ 관리/보정(예외)** 섹션 전체를 `st.sidebar.expander(..., expanded=False)` 로 감쌈.
- **기본 접힌 상태.** 펼치면 매출 보정, 판매량 보정, 메뉴, 재료, 레시피, 직원, 협력사, 게시판 8개 메뉴 노출.

---

## 4. 홈 placeholder (STEP 3)

- **메뉴:** 🏠 사장 계기판 → **홈** 클릭 시 **홈** 페이지로 이동.
- **내용:** 기능 없음. 안내만 표시.
  - `"사장 계기판(홈)은 다음 Phase에서 추가됩니다."`
  - `"현재는 **실제정산** / **통합 대시보드**를 이용해 주세요."`
- **구현:** `app.py` 내 `if page == "홈":` 분기에서 `render_page_header` + `st.info` + `st.caption` 만 사용. **별도 파일 미추가.**

---

## 5. 용어 통일 (STEP 4)

- **공식 입력:** 점장 마감 (유지)
- **보정:** 매출 보정, 판매량 보정
- **분석:** 매출, 판매, 원가 등 짧은 명사형
- **성적표:** 목표 비용, 목표 매출, 실제정산, 주간 리포트

사이드바 **라벨에만** 적용. page key 및 라우팅 문자열은 변경 없음.

---

## 6. 검증 체크리스트

| # | 항목 | 확인 |
|---|------|------|
| 1 | 모든 메뉴 클릭 시 기존 페이지로 정상 이동 (라우팅 유지) | ☐ |
| 2 | 기존 권한/로그인/스토어 가드 동작 동일 | ☐ |
| 3 | 관리/보정 섹션 기본 접힘(expanded=False) 정상 | ☐ |
| 4 | 모바일/데스크탑에서 사이드바·expander·버튼 클릭 가능 | ☐ |
| 5 | 데이터 로직·기능 변경 없음 (저장/조회 등 동일) | ☐ |

---

## 7. 요약

- **변경 범위:** `app.py` 사이드바 메뉴 생성부 + 홈 placeholder 분기만.
- **표시:** 섹션 헤더·메뉴 라벨·접기 구조 정리, 이모지/아이콘은 섹션 위주로 유지.
- **유지:** 라우팅, 권한, 데이터 로직, 페이지 기능 — **변경 없음.**

위 체크리스트 기준으로 한 번씩 확인 후, 이상 있으면 해당 항목만 수정하는 흐름을 권장합니다.
