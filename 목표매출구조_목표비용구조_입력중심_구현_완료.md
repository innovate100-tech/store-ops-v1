# 목표 매출구조 & 목표 비용구조 페이지 입력 중심 구현 완료 보고서

**작업 일자**: 2026-01-24  
**목적**: 입력 중심으로 페이지 재구성 (분석/설계 기능 제거)

---

## ✅ 완료된 작업

### 1. 버튼 라벨 변경

**변경 사항**:
- 입력 허브: "목표 매출 구조" → "목표 매출 구조 입력"
- 입력 허브: "목표 비용 구조" → "목표 비용 구조 입력"
- app.py 사이드바 메뉴: 동일하게 변경

**파일**:
- `ui_pages/input/input_hub.py`
- `app.py`

---

### 2. 목표 비용구조 페이지 재구성

**변경 사항**:

#### 유지된 기능
- ✅ ZONE A: 기간 선택 & 전월 복사
- ✅ ZONE B: 기본 정보 입력
  - 목표 매출 입력
  - 평일/주말 매출 비율 설정 (선택)
- ✅ ZONE C: 손익분기점 미리보기 (최소한의 계산만)
- ✅ ZONE D: 비용 구조 입력 (5개 카테고리)

#### 제거된 기능 (분석 기능)
- ❌ 목표매출 달성시 비용구조 분석
- ❌ 월간 집계 표시
- ❌ 일일 매출 비교 (평일/주말 상세 계산)
- ❌ 손익분기 매출 vs 목표 매출 상세 비교

**파일**: `ui_pages/target_cost_structure.py`

**주요 변경**:
- 손익분기점 계산 결과만 간단히 표시 (입력 검증용)
- 분석 기능 코드 완전 제거
- 입력에만 집중하는 구조로 재구성

---

### 3. 목표 매출구조 페이지 재구성

**변경 사항**:

#### 페이지 제목 변경
- "목표 매출구조 분석" → "목표 매출 구조 입력"

#### 새로운 구조
- ✅ ZONE A: 기간 선택
- ✅ ZONE B: 목표 매출 입력
- ✅ ZONE B-2: 목표 매출 구조 입력 (신규)
  - 메뉴 카테고리별 목표 매출 비율
  - 시간대별 목표 매출 비율
- ✅ ZONE C: 입력 현황 요약

#### 제거된 기능
- ❌ 매출 수준별 비용·영업이익 시뮬레이션

**파일**: `ui_pages/target_sales_structure.py`

**주요 변경**:
- 전체 페이지를 입력 중심으로 재작성
- 분석 기능 완전 제거
- 매출 구조 입력 기능 추가 (메뉴 카테고리별, 시간대별)

---

## 📊 작업 통계

| 작업 항목 | 상태 | 파일 수 |
|-----------|------|---------|
| 버튼 라벨 변경 | ✅ 완료 | 2 |
| 목표 비용구조 페이지 재구성 | ✅ 완료 | 1 |
| 목표 매출구조 페이지 재구성 | ✅ 완료 | 1 |

**총 수정 파일**: 4개

---

## 🎯 개선 효과

### 사용자 경험
- ✅ 입력에만 집중하여 혼란 감소
- ✅ 명확한 입력 흐름으로 사용성 향상
- ✅ 분석과 설계는 별도 페이지에서 처리하여 역할 분리
- ✅ 버튼 라벨이 명확해져 페이지 목적을 쉽게 파악

### 개발 효율
- ✅ 페이지 역할이 명확해져 유지보수 용이
- ✅ 입력 페이지와 분석 페이지 분리로 코드 구조 개선
- ✅ 불필요한 분석 코드 제거로 코드 간소화

---

## 📝 기술적 세부사항

### 목표 비용구조 페이지

**구조**:
1. ZONE A: 기간 선택 & 전월 복사
2. ZONE B: 기본 정보 입력 (목표 매출, 평일/주말 비율)
3. ZONE C: 손익분기점 미리보기 (최소한의 계산)
4. ZONE D: 비용 구조 입력 (5개 카테고리)

**제거된 코드**:
- 목표매출 달성시 비용구조 분석 (약 100줄)
- 월간 집계 표시 (약 50줄)
- 일일 매출 비교 (약 150줄)
- 손익분기 매출 vs 목표 매출 상세 비교 (약 80줄)

### 목표 매출구조 페이지

**구조**:
1. ZONE A: 기간 선택
2. ZONE B: 목표 매출 입력
3. ZONE B-2: 목표 매출 구조 입력
   - 메뉴 카테고리별 목표 매출 비율
   - 시간대별 목표 매출 비율
4. ZONE C: 입력 현황 요약

**신규 기능**:
- 메뉴 카테고리별 목표 매출 비율 입력
- 시간대별 목표 매출 비율 입력
- 입력 검증 (합계 100% 확인)

**향후 구현 필요**:
- `target_sales_structure` 테이블 생성 및 저장 기능
- 기존 데이터 로드 기능

---

## 🔄 데이터 흐름

### 입력 흐름
```
1. 목표 비용구조 입력
   ↓
   - 고정비 입력 (임차료, 인건비, 공과금)
   - 변동비 입력 (재료비, 부가세&카드수수료)
   - 목표 매출 입력
   ↓
   expense_structure 테이블 저장
   targets 테이블 저장

2. 목표 매출구조 입력
   ↓
   - 목표 매출 입력 (또는 비용구조에서 입력한 값 사용)
   - 매출 구조 입력 (카테고리별, 시간대별 비율)
   ↓
   targets 테이블 저장
   target_sales_structure 테이블 저장 (향후 구현)
```

---

## 📝 주의사항

1. **목표 매출구조 페이지**
   - 매출 구조 저장 기능은 향후 구현 예정
   - `target_sales_structure` 테이블 생성 필요

2. **분석 기능**
   - 제거된 분석 기능은 별도 분석 페이지에서 구현 예정
   - 입력 페이지는 순수하게 입력에만 집중

3. **기존 데이터 호환성**
   - 기존 데이터는 그대로 유지
   - 페이지 구조만 변경하여 기존 데이터와 호환

---

**작성일**: 2026-01-24  
**담당**: 목표 매출구조 & 목표 비용구조 페이지 입력 중심 재구성
