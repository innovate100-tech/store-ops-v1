# 매출 분석 페이지 리디자인 구현 완료

**작성 일자**: 2026-01-24  
**참고**: `매출_분석_페이지_업그레이드_기획안.md`

---

## ✅ 완료 사항

### 1. 신규 페이지

- **파일**: `ui_pages/analysis/sales_analysis.py`
- **함수**: `render_sales_analysis()`
- **라우팅**: `app.py` — `page == "매출 관리"` → `ui_pages.analysis.sales_analysis.render_sales_analysis`

### 2. ZONE 구성

| ZONE | 내용 | 비고 |
|------|------|------|
| **A. 핵심 지표** | 이번 달 누적 매출, 목표 대비 달성률, 일평균, 필요 일평균, 예상 월 매출, 예상 달성률, 전월 대비 | 6개 메트릭 + 캡션 |
| **B. 목표 vs 실제** | 목표 vs 실제 요약 카드, 일별 매출 추이 라인 차트 | 목표 미설정 시 안내 + 이동 버튼 |
| **C. 트렌드 분석** | 일별 매출 (이번 달), 월간 트렌드 (최근 6개월) 바 차트 | |
| **D. 상세 분석** | 방문자·객단가·상관계수, 결제 수단(카드/현금), 예상 월 매출, 필요 일평균 액션 | |

### 3. UI/UX

- **헤더**: "📊 매출 분석" + 설명 문구 "매출은 가게의 생명줄입니다. 목표를 달성하기 위해 매일 확인하세요."
- **상단 CTA**: 매출 하락 원인 찾기, 매출 새로고침
- **기간 선택**: 연도/월 (비용·실제정산 분석과 동일)
- **섹션**: `render_section_header` / `render_section_divider` 사용

### 4. 데이터

- `load_best_available_daily_sales`, `load_monthly_sales_total`, `load_csv` (targets, naver_visitors)
- `merge_sales_visitors`, `calculate_correlation`
- `count_unofficial_days_in_month` (미마감 안내)

### 5. 에러 처리

- 매장 미선택 → 안내 후 중단
- 매출 데이터 없음 → "일일 마감 입력으로 이동" 버튼
- 목표 미설정 → "목표 매출구조 입력으로 이동" 버튼
- 데이터 없을 때 "—", 캡션 안내

---

## 📝 기존 대비 변경

- **기존**: `ui_pages/sales_management.py` → `render_sales_management` (매출 관리)
- **변경**: `ui_pages/analysis/sales_analysis.py` → `render_sales_analysis` (매출 관리 라우팅)
- **판매·메뉴 분석**: `ui_pages/sales_analysis.py` → `render_sales_analysis` 유지 (라우팅 별도)

---

## 🔍 확인 방법

1. 앱 실행 후 **📊 분석** → **세부분석선택** → **매출 분석** (또는 분석 허브 → 매출 자세히 보기)
2. ZONE A~D 순서로 표시되는지 확인
3. 연/월 변경, 매출 새로고침, 매출 하락 원인 찾기 동작 확인

---

**작성일**: 2026-01-24
