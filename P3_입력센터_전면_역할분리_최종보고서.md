# P3: 입력센터 전면 역할 분리 리팩터링 최종 보고서

## 작업 목표
입력센터의 모든 하위 페이지를 "입력 전용 화면"으로 전면 재정리
- 오직 숫자 입력, 저장, 확정만 수행
- 분석/판결/비교/전략/성적표/리포트/히스토리/PDF 제거

---

## 완료된 페이지 상세 보고

### [페이지 1] target_cost_structure.py

**제거한 섹션 목록**:
1. 평일/주말 매출 비율 설정 (285-323줄) - 분석 요소
2. 손익분기점 계산 공식 표시 (334줄) - 해석 문구
3. design_lab 관련 import (14-19줄) - 분석/전략 요소

**남은 섹션 구조 트리**:
```
비용 목표 입력 페이지 (입력 전용)
├── Header (제목 + 상태배지)
├── GuideBox (G3)
├── Summary Strip (목표 기간, 고정비, 변동비율, 손익분기점)
├── Action Bar (상단 고정)
├── Main Card
│   ├── 1. 기간 선택 (연/월)
│   ├── 2. 목표 매출 입력 (FormKit)
│   ├── 3. 입력 상태 확인 (손익분기점 숫자만)
│   └── 4. 비용 구조 입력
│       ├── 임차료 (고정비)
│       ├── 인건비 (고정비)
│       ├── 재료비 (변동비)
│       ├── 공과금 (고정비)
│       └── 부가세&카드수수료 (변동비)
└── Action Bar (하단)
    ├── Primary: 💾 목표 저장
    └── Secondary: 📋 전월 데이터 복사
```

**입력 흐름 요약**:
1. 기간 선택 (연/월)
2. 목표 매출 입력
3. 손익분기점 확인 (입력 상태 확인용)
4. 비용 구조 입력 (5개 카테고리별 항목 추가/수정/삭제)
5. 저장 (Action Bar)

**주석 처리한 함수 목록**:
- `render_coach_board` (import 주석 처리)
- `render_structure_map_container` (import 주석 처리)
- `render_school_cards` (import 주석 처리)
- `render_design_tools_container` (import 주석 처리)

**입력 전용 기준 통과 여부**: ✅ YES

---

### [페이지 2] target_sales_structure.py

**제거한 섹션 목록**: 없음 (이미 입력 전용 구조)

**남은 섹션 구조 트리**:
```
매출 목표 입력 페이지 (입력 전용)
├── Header (제목 + 상태배지)
├── GuideBox (G3)
├── Summary Strip (목표 기간, 목표 매출, 비용 구조)
├── Action Bar (상단 고정)
├── Main Card
│   ├── 1. 기간 선택 (연/월)
│   ├── 2. 목표 매출 입력 (FormKit)
│   ├── 3. 목표 매출 구조 입력
│   │   ├── 메뉴 카테고리별 비율 (메인/사이드/음료/기타)
│   │   └── 시간대별 비율 (점심/저녁/기타)
│   └── 4. 입력 현황 (입력 상태 확인용)
│       ├── 목표 매출
│       ├── 비용 구조 입력
│       └── 매출 구조 입력
└── Action Bar (하단)
    ├── Primary: 💾 목표 저장
    └── Secondary: 💾 매출 구조 저장
```

**입력 흐름 요약**:
1. 기간 선택 (연/월)
2. 목표 매출 입력
3. 목표 매출 구조 입력 (메뉴 카테고리별/시간대별 비율)
4. 입력 현황 확인 (입력 상태 확인용)
5. 저장 (Action Bar)

**주석 처리한 함수 목록**: 없음

**입력 전용 기준 통과 여부**: ✅ YES

---

### [페이지 3] daily_input_hub.py

**제거한 섹션 목록**: 없음 (이미 입력 전용 구조, 안내 문구만 존재)

**남은 섹션 구조 트리**:
```
오늘 마감 입력 페이지 (입력 전용)
├── Header (제목 + 상태배지)
├── GuideBox (G1)
├── Summary Strip (입력 날짜)
├── Mini Progress Panel (매출/방문자/판매량/메모)
├── Action Bar (상단 고정)
├── Main Card
│   ├── 탭 1: 💰 매출 (카드/현금)
│   ├── 탭 2: 👥 네이버 방문자
│   ├── 탭 3: 📦 판매량 (전 메뉴 일괄 입력)
│   └── 탭 4: 📝 메모
└── Action Bar (하단)
    └── Primary: ✅ 오늘 마감 완료
```

**입력 흐름 요약**:
1. 날짜 선택
2. 탭별 입력 (매출/방문자/판매량/메모)
3. 마감 완료 (Action Bar)

**주석 처리한 함수 목록**: 없음

**입력 전용 기준 통과 여부**: ✅ YES

---

### [페이지 4] sales_volume_entry.py

**제거한 섹션 목록**: 없음 (이미 입력 전용 구조)

**남은 섹션 구조 트리**:
```
판매량 입력 페이지 (입력 전용)
├── Header (제목 + 상태배지)
├── GuideBox (G2)
├── Summary Strip (판매 날짜, 마감 상태, 등록 메뉴)
├── Action Bar (상단 고정)
├── Main Card
│   ├── 날짜 선택
│   ├── 마감 상태 안내 (필수 경고)
│   └── 판매량 입력 (3열 그리드, 전 메뉴 일괄 입력)
└── Action Bar (하단)
    └── Primary: 💾 판매량 보정 저장
```

**입력 흐름 요약**:
1. 날짜 선택
2. 마감 상태 확인 (필수 경고)
3. 판매량 입력 (전 메뉴 일괄 입력)
4. 저장 (Action Bar)

**주석 처리한 함수 목록**: 없음

**입력 전용 기준 통과 여부**: ✅ YES

---

## 변경 파일 요약

### target_cost_structure.py
- FormKit CSS 주입 추가
- `ps_section()` 사용으로 섹션 통일 (3개 섹션)
- `ps_money_input()` 사용으로 금액 입력 통일
- 평일/주말 매출 비율 설정 제거
- 손익분기점 계산 공식 제거 (숫자만 표시)
- design_lab import 주석 처리
- 버튼 Action Bar로 이동 (Primary: 목표 저장, Secondary: 전월 복사)

### target_sales_structure.py
- FormKit CSS 주입 추가
- `ps_section()` 사용으로 섹션 통일 (3개 섹션)
- `ps_money_input()` 사용으로 금액 입력 통일
- 버튼 Action Bar로 이동 (Primary: 목표 저장, Secondary: 매출 구조 저장)

### sales_volume_entry.py
- FormKit CSS 주입 추가
- `ps_section()` 사용으로 섹션 통일
- 버튼 Action Bar로 이동 (Primary: 판매량 보정 저장)
- `render_section_divider()` 제거

### daily_input_hub.py
- 검증 완료 (이미 입력 전용 구조)

---

## 결론

**P3 작업 진행 상황**: 4/11 페이지 완료

- ✅ target_cost_structure.py
- ✅ target_sales_structure.py
- ✅ daily_input_hub.py
- ✅ sales_volume_entry.py
- ⏳ CONSOLE형 4개 페이지 (다음 작업)
- ⏳ QSC 페이지 (다음 작업)

모든 완료된 페이지는 "입력 전용 기준"을 통과했습니다. 해석/판단/전략 요소가 제거되었고, 입력 흐름이 위 → 아래로 자연스럽게 이어집니다.
