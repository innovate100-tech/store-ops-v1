# 사이드바/네비게이션 재정렬 완료 보고서

**작업 일자**: 2026-01-24  
**목적**: 사이드바 메뉴 구조를 목표 IA에 맞게 재정렬 (기능 삭제/로직 수정/DB 변경 없음)

---

## 1️⃣ 변경 전/후 사이드바 트리

### 변경 전

```
🏠 HOME
  - 홈
  - 전략 보드

🟢 오늘 입력
  - 일일 입력(통합)

🩺 건강검진
  - 건강검진 실시
  - 검진 결과 요약
  - 검진 히스토리

🚨 문제 분석
  - 매출 하락 원인 찾기
  - 매출 분석
  - 판매·메뉴 분석
  - 원가 분석

🔥 가게 설계
  - 가게 설계 센터
  - 메뉴 포트폴리오 설계실
  - 메뉴 수익 구조 설계실
  - 재료 구조 설계실
  - 수익 구조 설계실

📄 성적표·리포트
  - 월간 성적표
  - 주간 리포트

🛠 마스터·목표
  - 메뉴 관리
  - 재료 관리
  - 레시피 관리
  - 목표 비용 구조
  - 목표 매출 구조

👥 운영 도구
  - 직원 연락망
  - 협력사 연락망
  - 게시판
```

### 변경 후

```
🏠 홈
  - 홈

✍ 입력
  - 일일 입력(통합)
  - 점장 마감
  - 매출 등록
  - 판매량 등록
  - 월간 성적표
  - 주간 리포트

📊 분석
  - 건강검진 실시
  - 검진 결과 요약
  - 검진 히스토리
  - 매출 하락 원인 찾기
  - 매출 분석
  - 판매·메뉴 분석
  - 원가 분석

🧠 설계
  - 가게 설계 센터
  - 전략 보드
  - 메뉴 포트폴리오 설계실
  - 메뉴 수익 구조 설계실
  - 재료 구조 설계실
  - 수익 구조 설계실
  - 레시피 관리
  - 목표 비용 구조
  - 목표 매출 구조

🛠 운영
  - 직원 연락망
  - 협력사 연락망
  - 게시판
```

---

## 2️⃣ 주요 변경 사항

### 2.1 카테고리 재구성

1. **🏠 홈**: 홈만 유지 (전략 보드는 설계로 이동)
2. **✍ 입력**: 매일/주간·불시/월간 입력 통합
   - 일일 입력(통합)
   - 점장 마감 (새로 추가)
   - 매출 등록 (새로 추가)
   - 판매량 등록 (새로 추가)
   - 월간 성적표 (성적표·리포트에서 이동)
   - 주간 리포트 (성적표·리포트에서 이동)
3. **📊 분석**: 건강검진 + 문제 분석 통합
   - 건강검진 실시/결과 요약/히스토리
   - 매출 하락 원인 찾기
   - 매출 분석
   - 판매·메뉴 분석
   - 원가 분석
4. **🧠 설계**: 가게 설계 센터 + 설계실 + 전략/미션 통합
   - 가게 설계 센터
   - 전략 보드 (HOME에서 이동)
   - 메뉴 포트폴리오 설계실
   - 메뉴 수익 구조 설계실
   - 재료 구조 설계실
   - 수익 구조 설계실
   - 레시피 관리 (마스터·목표에서 이동)
   - 목표 비용 구조 (마스터·목표에서 이동)
   - 목표 매출 구조 (마스터·목표에서 이동)
5. **🛠 운영**: 운영 도구 (이름 변경)
   - 직원 연락망
   - 협력사 연락망
   - 게시판

### 2.2 제거된 항목

- **마스터·목표** 카테고리: 설계 그룹으로 통합
- **성적표·리포트** 카테고리: 입력 그룹으로 통합
- **메뉴 관리**, **재료 관리**: 설계 그룹의 "메뉴 포트폴리오 설계실", "재료 구조 설계실"과 중복이므로 제거 (같은 페이지, 다른 라벨)

### 2.3 새로 추가된 항목

- **점장 마감**: 입력 그룹에 추가 (기존에는 사이드바에 없었음)
- **매출 등록**: 입력 그룹에 추가 (기존에는 사이드바에 없었음)
- **판매량 등록**: 입력 그룹에 추가 (기존에는 사이드바에 없었음)

---

## 3️⃣ app.py에서 수정한 구간 diff 요약

### 3.1 menu_categories 딕셔너리 재구성

**위치**: `app.py` 라인 1512-1555

**변경 내용**:
- 카테고리명 변경: "🏠 HOME" → "🏠 홈", "🟢 오늘 입력" → "✍ 입력", "🩺 건강검진" + "🚨 문제 분석" → "📊 분석", "🔥 가게 설계" → "🧠 설계", "👥 운영 도구" → "🛠 운영"
- 항목 재배치:
  - 전략 보드: HOME → 설계
  - 점장 마감, 매출 등록, 판매량 등록: 입력 그룹에 추가
  - 월간 성적표, 주간 리포트: 성적표·리포트 → 입력
  - 건강검진 항목들: 건강검진 → 분석
  - 레시피 관리, 목표 비용 구조, 목표 매출 구조: 마스터·목표 → 설계
  - 메뉴 관리, 재료 관리: 제거 (설계 그룹의 설계실과 중복)

### 3.2 category_order 리스트 업데이트

**위치**: `app.py` 라인 1578-1587

**변경 내용**:
- 카테고리 순서를 새로운 IA에 맞게 재정렬
- 제거된 카테고리: "🩺 건강검진", "📄 성적표·리포트", "🛠 마스터·목표"
- 추가된 카테고리: 없음 (기존 카테고리 재명명 및 통합)

---

## 4️⃣ 기능 영향 없음 체크리스트

### ✅ 라우팅 키 유지
- [x] 모든 페이지의 `page key`는 변경하지 않음
- [x] `st.session_state.current_page` 값은 기존과 동일
- [x] 라우팅 로직 (`elif page == "..."`) 변경 없음

### ✅ 페이지 파일 경로 유지
- [x] 페이지 파일 이동 없음
- [x] import 경로 변경 없음
- [x] 함수명 변경 없음

### ✅ 기능 로직 변경 없음
- [x] 페이지 렌더링 로직 변경 없음
- [x] 데이터 저장 로직 변경 없음
- [x] DB 쿼리 변경 없음

### ✅ 내부 이동 경로 확인
- [x] 전략 보드: 홈/설계 센터에서 버튼으로 접근 가능 (기존 유지)
- [x] 미션 상세: 전략 보드에서 내부 이동 (사이드바 노출 없음, 기존 유지)
- [x] 점장 마감: 일일 입력에서 접근 가능 (사이드바에도 노출 추가)
- [x] 매출 등록: 일일 입력에서 접근 가능 (사이드바에도 노출 추가)

### ✅ 중복 페이지 처리
- [x] 메뉴 관리 = 메뉴 포트폴리오 설계실: 설계 그룹에만 유지
- [x] 재료 관리 = 재료 구조 설계실: 설계 그룹에만 유지
- [x] 같은 페이지를 가리키는 다른 라벨 제거

---

## 5️⃣ 추가 고려 사항

### 5.1 입력 페이지에서 설계 페이지로 바로가기

**현재 상태**: 입력 페이지(일일 입력, 점장 마감 등)에서 설계 페이지로 바로가기 버튼이 있는지 확인 필요

**권장 사항**: 
- 일일 입력 페이지에서 "메뉴 포트폴리오 설계실", "재료 구조 설계실"로 바로가기 버튼 추가 고려
- 점장 마감 페이지에서도 동일하게 고려

**참고**: 이번 작업 범위에는 포함하지 않음 (사이드바 재정렬만 수행)

### 5.2 전략 보드 노출

**결정**: 사이드바에 노출 (설계 그룹)
- 기존: HOME 그룹에 노출
- 변경: 설계 그룹에 노출
- 이유: 전략 보드는 설계 결과물을 보여주는 페이지이므로 설계 그룹이 적합

### 5.3 미션 상세 노출

**결정**: 사이드바에 노출하지 않음 (내부 이동 유지)
- 기존: 사이드바에 없음
- 변경: 유지 (전략 보드에서 내부 이동)

---

## 6️⃣ 테스트 체크리스트

### 사이드바 메뉴
- [ ] 홈 그룹에 "홈"만 표시됨
- [ ] 입력 그룹에 6개 항목 표시됨
- [ ] 분석 그룹에 7개 항목 표시됨
- [ ] 설계 그룹에 9개 항목 표시됨
- [ ] 운영 그룹에 3개 항목 표시됨

### 페이지 접근
- [ ] 각 메뉴 클릭 시 해당 페이지로 정상 이동
- [ ] 전략 보드 접근 가능 (설계 그룹)
- [ ] 점장 마감 접근 가능 (입력 그룹)
- [ ] 매출 등록 접근 가능 (입력 그룹)
- [ ] 판매량 등록 접근 가능 (입력 그룹)

### 내부 이동
- [ ] 홈에서 전략 보드 버튼 클릭 시 정상 이동
- [ ] 설계 센터에서 전략 보드 버튼 클릭 시 정상 이동
- [ ] 전략 보드에서 미션 상세 내부 이동 정상 작동

---

**작성일**: 2026-01-24  
**담당**: 사이드바 재정렬 작업
