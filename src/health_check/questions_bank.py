"""
건강검진 질문 뱅크
9개 카테고리 * 10문항 정의
"""

# 카테고리 코드 정의
CATEGORIES = ['Q', 'S', 'C', 'P1', 'P2', 'P3', 'M', 'H', 'F']

# 카테고리명 매핑
CATEGORY_NAMES = {
    'Q': '품질(Quality)',
    'S': '서비스(Service)',
    'C': '청결(Cleanliness)',
    'P1': '가격1(Price1)',
    'P2': '가격2(Price2)',
    'P3': '가격3(Price3)',
    'M': '마케팅(Marketing)',
    'H': '인력(Human)',
    'F': '재무(Finance)'
}

# 질문 뱅크: {category: {question_code: question_text}}
QUESTIONS_BANK = {
    'Q': {
        'Q1': '메뉴 품질이 일관되게 유지되고 있나요?',
        'Q2': '고객이 메뉴 맛에 만족하고 있나요?',
        'Q3': '재료 신선도 관리를 체계적으로 하고 있나요?',
        'Q4': '메뉴 레시피가 표준화되어 있나요?',
        'Q5': '품질 불만 접수가 최소화되어 있나요?',
        'Q6': '신메뉴 개발 프로세스가 있나요?',
        'Q7': '메뉴별 품질 점검을 정기적으로 하나요?',
        'Q8': '재료 검수 기준이 명확한가요?',
        'Q9': '조리 과정에서 품질 관리가 이루어지나요?',
        'Q10': '고객 피드백을 품질 개선에 반영하나요?'
    },
    'S': {
        'S1': '직원이 고객을 친절하게 응대하나요?',
        'S2': '주문 처리 속도가 적절한가요?',
        'S3': '서비스 매뉴얼이 체계화되어 있나요?',
        'S4': '고객 불만 처리가 신속한가요?',
        'S5': '예약/대기 관리가 효율적인가요?',
        'S6': '서비스 교육이 정기적으로 이루어지나요?',
        'S7': '고객 요청사항을 잘 반영하나요?',
        'S8': '서비스 품질 모니터링을 하고 있나요?',
        'S9': 'VIP 고객 관리가 이루어지나요?',
        'S10': '서비스 개선 활동이 지속되나요?'
    },
    'C': {
        'C1': '매장 청소가 정기적으로 이루어지나요?',
        'C2': '주방 위생 관리가 철저한가요?',
        'C3': '식기 소독이 제대로 되고 있나요?',
        'C4': '직원 개인 위생 관리가 되고 있나요?',
        'C5': '쓰레기 처리 기준이 명확한가요?',
        'C6': '위생 점검 기록이 관리되고 있나요?',
        'C7': '냉장/냉동 시설 관리가 적절한가요?',
        'C8': '해충 방제가 정기적으로 이루어지나요?',
        'C9': '위생 교육이 정기적으로 이루어지나요?',
        'C10': '위생 관련 불만이 최소화되어 있나요?'
    },
    'P1': {
        'P1_1': '메뉴 가격이 시장 대비 적절한가요?',
        'P1_2': '가격 경쟁력이 유지되고 있나요?',
        'P1_3': '가격 정책이 명확한가요?',
        'P1_4': '가격 변경 시 고객 반응을 모니터링하나요?',
        'P1_5': '프로모션 가격 전략이 효과적인가요?',
        'P1_6': '가격 대비 가치가 고객에게 전달되나요?',
        'P1_7': '경쟁사 대비 가격 포지셔닝이 적절한가요?',
        'P1_8': '가격 인상 시 고객 이탈이 최소화되나요?',
        'P1_9': '계절/상황별 가격 조정이 이루어지나요?',
        'P1_10': '가격 전략이 수익성과 균형을 이루나요?'
    },
    'P2': {
        'P2_1': '원가율 관리가 체계적으로 이루어지나요?',
        'P2_2': '재료비 절감 활동이 지속되나요?',
        'P2_3': '메뉴별 원가 계산이 정확한가요?',
        'P2_4': '낭비 방지 활동이 효과적인가요?',
        'P2_5': '재고 관리로 손실이 최소화되나요?',
        'P2_6': '공급업체 협상으로 원가를 절감하나요?',
        'P2_7': '레시피 최적화로 원가를 개선하나요?',
        'P2_8': '원가 모니터링이 실시간으로 이루어지나요?',
        'P2_9': '목표 원가율 달성을 위해 노력하나요?',
        'P2_10': '원가 구조 개선 계획이 있나요?'
    },
    'P3': {
        'P3_1': '마진 구조가 건강한가요?',
        'P3_2': '고마진 메뉴 비중이 적절한가요?',
        'P3_3': '메뉴 포트폴리오가 수익성 중심인가요?',
        'P3_4': '손익분기점 관리를 하고 있나요?',
        'P3_5': '가격-원가 균형이 최적화되어 있나요?',
        'P3_6': '수익성 개선 활동이 지속되나요?',
        'P3_7': '마진 분석이 정기적으로 이루어지나요?',
        'P3_8': '수익 구조 개선 계획이 실행 중인가요?',
        'P3_9': '목표 마진율 달성을 위해 노력하나요?',
        'P3_10': '수익성 모니터링이 체계적인가요?'
    },
    'M': {
        'M1': '마케팅 전략이 명확한가요?',
        'M2': '고객 유입 채널이 다양하나요?',
        'M3': 'SNS 마케팅이 효과적인가요?',
        'M4': '프로모션 기획이 체계적인가요?',
        'M5': '고객 리텐션이 잘 되고 있나요?',
        'M6': '신규 고객 유치 활동이 지속되나요?',
        'M7': '브랜드 인지도가 향상되고 있나요?',
        'M8': '마케팅 ROI를 측정하고 있나요?',
        'M9': '이벤트 기획이 고객 반응이 좋은가요?',
        'M10': '마케팅 예산이 효율적으로 사용되나요?'
    },
    'H': {
        'H1': '직원 채용 프로세스가 체계적인가요?',
        'H2': '직원 교육이 정기적으로 이루어지나요?',
        'H3': '직원 만족도가 높은가요?',
        'H4': '인력 배치가 효율적인가요?',
        'H5': '직원 이탈률이 낮은가요?',
        'H6': '성과 평가 시스템이 공정한가요?',
        'H7': '직원 동기부여가 잘 되고 있나요?',
        'H8': '인력 계획이 장기적으로 수립되나요?',
        'H9': '직원 복지 제도가 적절한가요?',
        'H10': '인력 관리가 체계적인가요?'
    },
    'F': {
        'F1': '현금 흐름 관리가 체계적인가요?',
        'F2': '재무 기록이 정확하게 유지되나요?',
        'F3': '예산 계획이 수립되고 있나요?',
        'F4': '비용 절감 활동이 지속되나요?',
        'F5': '자금 조달 계획이 있나요?',
        'F6': '재무 분석이 정기적으로 이루어지나요?',
        'F7': '세무 관리가 적절한가요?',
        'F8': '투자 의사결정이 데이터 기반인가요?',
        'F9': '재무 목표 달성을 모니터링하나요?',
        'F10': '재무 건전성이 유지되고 있나요?'
    }
}


def get_question_code(category: str, question_num: int) -> str:
    """
    카테고리와 문항 번호로 question_code 생성
    
    Args:
        category: 카테고리 코드 ('Q', 'S', 'C', 'P1', 'P2', 'P3', 'M', 'H', 'F')
        question_num: 문항 번호 (1~10)
    
    Returns:
        question_code (예: 'Q1', 'P1_1', 'P2_1')
    """
    if category in ['P1', 'P2', 'P3']:
        return f'{category}_{question_num}'
    else:
        return f'{category}{question_num}'


def get_all_questions() -> dict:
    """
    전체 질문 뱅크 반환
    
    Returns:
        {category: {question_code: question_text}}
    """
    return QUESTIONS_BANK


def get_category_questions(category: str) -> dict:
    """
    특정 카테고리의 질문만 반환
    
    Args:
        category: 카테고리 코드
    
    Returns:
        {question_code: question_text}
    """
    return QUESTIONS_BANK.get(category, {})


def get_question_text(category: str, question_code: str) -> str:
    """
    질문 텍스트 조회
    
    Args:
        category: 카테고리 코드
        question_code: 질문 코드
    
    Returns:
        질문 텍스트
    """
    return QUESTIONS_BANK.get(category, {}).get(question_code, '')
