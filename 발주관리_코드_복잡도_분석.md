# ğŸ›’ ë°œì£¼ê´€ë¦¬ í˜ì´ì§€ ì½”ë“œ ë³µì¡ë„ ë¶„ì„

**ë¶„ì„ì¼**: 2026-01-19  
**ëª©ì **: ë°œì£¼ê´€ë¦¬ í˜ì´ì§€ ì½”ë“œì˜ ë³µì¡ë„ í‰ê°€ ë° ê°œì„  ë°©ì•ˆ ì œì‹œ

---

## ğŸ“Š í˜„ì¬ ìƒíƒœ

### ì½”ë“œ ê·œëª¨
- **ì´ ë¼ì¸ ìˆ˜**: ì•½ **1,266ì¤„** (4872ì¤„ ~ 6137ì¤„)
- **íƒ­ ìˆ˜**: 6ê°œ
- **í‰ê·  íƒ­ë‹¹ ë¼ì¸ ìˆ˜**: ì•½ 211ì¤„

### êµ¬ì¡° ë¶„ì„

```
ë°œì£¼ ê´€ë¦¬ í˜ì´ì§€ (1,266ì¤„)
â”œâ”€â”€ ê³µí†µ ë°ì´í„° ë¡œë“œ (5ì¤„)
â”œâ”€â”€ íƒ­ 1: ì•ˆì „ì¬ê³  ë“±ë¡ (~150ì¤„)
â”œâ”€â”€ íƒ­ 2: í˜„ì¬ ì¬ê³  í˜„í™© (~200ì¤„)
â”œâ”€â”€ íƒ­ 3: ë°œì£¼ ì¶”ì²œ (~800ì¤„) âš ï¸ ê°€ì¥ ë³µì¡
â”‚   â”œâ”€â”€ í’ˆì ˆ ìœ„í—˜ ì•Œë¦¼ (~200ì¤„)
â”‚   â”œâ”€â”€ ë°œì£¼ ì¶”ì²œ ë¦¬ìŠ¤íŠ¸ (~300ì¤„)
â”‚   â”œâ”€â”€ ìµœì í™” ë°œì£¼ (~200ì¤„)
â”‚   â””â”€â”€ ë°œì£¼ ìƒì„± (~100ì¤„)
â”œâ”€â”€ íƒ­ 4: ì§„í–‰ í˜„í™© (~80ì¤„)
â”œâ”€â”€ íƒ­ 5: ê³µê¸‰ì—…ì²´ (~400ì¤„)
â”‚   â”œâ”€â”€ ê³µê¸‰ì—…ì²´ ë“±ë¡/ì‚­ì œ (~150ì¤„)
â”‚   â””â”€â”€ ì¬ë£Œ-ê³µê¸‰ì—…ì²´ ë§¤í•‘ (~250ì¤„)
â””â”€â”€ íƒ­ 6: ë°œì£¼ ë¶„ì„ (ë¹„í™œì„±í™”, 3ì¤„)
```

---

## âš ï¸ ë³µì¡ë„ ë¬¸ì œì 

### 1. **íƒ­ 3 (ë°œì£¼ ì¶”ì²œ)ì´ ê³¼ë„í•˜ê²Œ ë³µì¡**
- **800ì¤„**: ì „ì²´ ì½”ë“œì˜ 63% ì°¨ì§€
- ì—¬ëŸ¬ ê¸°ëŠ¥ì´ í•œ íƒ­ì— ì§‘ì¤‘
- ì¤‘ì²©ëœ ì¡°ê±´ë¬¸ê³¼ ë°˜ë³µë¬¸ ë‹¤ìˆ˜
- ë°ì´í„° ë³€í™˜ ë¡œì§ì´ UI ì½”ë“œì™€ í˜¼ì¬

### 2. **UI ë¡œì§ê³¼ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ í˜¼ì¬**
- ë°ì´í„° ë³€í™˜ (ë‹¨ìœ„ ë³€í™˜, ë°œì£¼ë‹¨ìœ„ ê³„ì‚°)ì´ UI ì½”ë“œì— ì§ì ‘ í¬í•¨
- ì¼ë¶€ëŠ” `order_service.py`, `analytics.py`ë¡œ ë¶„ë¦¬ë˜ì–´ ìˆìœ¼ë‚˜ ì¼ê´€ì„± ë¶€ì¡±

### 3. **ì¤‘ë³µ ì½”ë“œ**
- ë‹¨ìœ„ ë³€í™˜ ë¡œì§ì´ ì—¬ëŸ¬ íƒ­ì—ì„œ ë°˜ë³µ
- DataFrame ì¡°ì¸/ë³€í™˜ íŒ¨í„´ì´ ë°˜ë³µë¨
- í¬ë§·íŒ… ë¡œì§ (ìˆ«ì â†’ ë¬¸ìì—´)ì´ ì—¬ëŸ¬ ê³³ì— ë¶„ì‚°

### 4. **ê¸´ í•¨ìˆ˜/ë¸”ë¡**
- íƒ­ 3 ë‚´ë¶€ì— 100ì¤„ ì´ìƒì˜ ì—°ì†ëœ ì½”ë“œ ë¸”ë¡ ë‹¤ìˆ˜
- ê°€ë…ì„± ì €í•˜ ë° ë””ë²„ê¹… ì–´ë ¤ì›€

---

## âœ… ì´ë¯¸ ì˜ ë¶„ë¦¬ëœ ë¶€ë¶„

### 1. **ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ë¶„ë¦¬**
- `src/order_service.py`: ë°œì£¼ ê´€ë ¨ ë„ë©”ì¸ ë¡œì§
  - `OrderItem` ë°ì´í„° ëª¨ë¸
  - `build_order_items_from_display_df()`: ë°œì£¼ ì•„ì´í…œ ìƒì„±
  - `persist_orders()`: ë°œì£¼ ì €ì¥
- `src/analytics.py`: ë¶„ì„ ë¡œì§
  - `calculate_order_recommendation()`: ë°œì£¼ ì¶”ì²œ ê³„ì‚°
  - `optimize_order_by_supplier()`: ê³µê¸‰ì—…ì²´ë³„ ìµœì í™”

### 2. **ì €ì¥ ë¡œì§ ë¶„ë¦¬**
- `src/storage_supabase.py`: DB ì €ì¥ ë¡œì§
  - `save_order()`: ë°œì£¼ ì €ì¥
  - `save_supplier()`: ê³µê¸‰ì—…ì²´ ì €ì¥
  - `save_ingredient_supplier()`: ë§¤í•‘ ì €ì¥

---

## ğŸ”§ ê°œì„  ë°©ì•ˆ

### Phase 1: ì¦‰ì‹œ ê°œì„  ê°€ëŠ¥ (ë‚®ì€ ë¦¬ìŠ¤í¬)

#### 1.1 ê³µí†µ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ ì¶”ì¶œ
```python
# src/ui_helpers.py ë˜ëŠ” ìƒˆ íŒŒì¼: src/order_ui_helpers.py

def format_quantity_with_unit(quantity: float, unit: str) -> str:
    """ìˆ˜ëŸ‰ì„ ë‹¨ìœ„ì™€ í•¨ê»˜ í¬ë§·íŒ…"""
    return f"{quantity:,.2f} {unit}"

def format_price_with_unit(price: float, unit: str) -> str:
    """ê°€ê²©ì„ ë‹¨ìœ„ì™€ í•¨ê»˜ í¬ë§·íŒ…"""
    return f"{price:,.1f}ì›/{unit}"

def convert_to_order_unit(base_qty: float, conversion_rate: float) -> float:
    """ê¸°ë³¸ ë‹¨ìœ„ â†’ ë°œì£¼ ë‹¨ìœ„ ë³€í™˜"""
    return base_qty / conversion_rate

def convert_to_base_unit(order_qty: float, conversion_rate: float) -> float:
    """ë°œì£¼ ë‹¨ìœ„ â†’ ê¸°ë³¸ ë‹¨ìœ„ ë³€í™˜"""
    return order_qty * conversion_rate

def merge_ingredient_with_inventory(ingredient_df, inventory_df):
    """ì¬ë£Œ ì •ë³´ì™€ ì¬ê³  ì •ë³´ ì¡°ì¸ (ê³µí†µ íŒ¨í„´)"""
    # ë°˜ë³µë˜ëŠ” merge ë¡œì§ì„ í•¨ìˆ˜ë¡œ ì¶”ì¶œ
    pass
```

**íš¨ê³¼**: ì¤‘ë³µ ì½”ë“œ ì œê±°, ì¼ê´€ì„± í–¥ìƒ

---

#### 1.2 íƒ­ë³„ ë Œë”ë§ í•¨ìˆ˜ ë¶„ë¦¬
```python
# src/order_ui.py (ìƒˆ íŒŒì¼)

def render_safety_stock_tab(ingredient_df, inventory_df):
    """ì•ˆì „ì¬ê³  ë“±ë¡ íƒ­ ë Œë”ë§"""
    # íƒ­ 1 ì½”ë“œ ì´ë™
    pass

def render_inventory_status_tab(ingredient_df, inventory_df):
    """í˜„ì¬ ì¬ê³  í˜„í™© íƒ­ ë Œë”ë§"""
    # íƒ­ 2 ì½”ë“œ ì´ë™
    pass

def render_order_recommendation_tab(ingredient_df, inventory_df, ...):
    """ë°œì£¼ ì¶”ì²œ íƒ­ ë Œë”ë§"""
    # íƒ­ 3 ì½”ë“œ ì´ë™ (ê°€ì¥ ë³µì¡í•œ ë¶€ë¶„)
    pass

def render_order_history_tab(orders_df, ingredient_df):
    """ë°œì£¼ ì´ë ¥ íƒ­ ë Œë”ë§"""
    # íƒ­ 4 ì½”ë“œ ì´ë™
    pass

def render_supplier_management_tab(suppliers_df, ingredient_df):
    """ê³µê¸‰ì—…ì²´ ê´€ë¦¬ íƒ­ ë Œë”ë§"""
    # íƒ­ 5 ì½”ë“œ ì´ë™
    pass
```

**íš¨ê³¼**: 
- `app.py`ì˜ ë°œì£¼ ê´€ë¦¬ ì„¹ì…˜ì´ 50ì¤„ ì´í•˜ë¡œ ì¶•ì†Œ
- ê° íƒ­ì˜ ì½”ë“œê°€ ë…ë¦½ì ìœ¼ë¡œ ê´€ë¦¬ ê°€ëŠ¥
- í…ŒìŠ¤íŠ¸ ë° ë””ë²„ê¹… ìš©ì´

---

#### 1.3 íƒ­ 3 ì„¸ë¶€ í•¨ìˆ˜ ë¶„ë¦¬
```python
# src/order_ui.py ë‚´ë¶€

def render_urgent_alerts(low_stock_items, overdue_orders, ...):
    """í’ˆì ˆ ìœ„í—˜ ì•Œë¦¼ ì„¹ì…˜"""
    # ì•Œë¦¼ ê´€ë ¨ ì½”ë“œë§Œ ë¶„ë¦¬
    pass

def render_order_recommendation_list(order_df, ...):
    """ë°œì£¼ ì¶”ì²œ ë¦¬ìŠ¤íŠ¸ í‘œì‹œ"""
    # ë¦¬ìŠ¤íŠ¸ í‘œì‹œ ë¡œì§ë§Œ ë¶„ë¦¬
    pass

def render_optimized_orders(optimized_orders, ...):
    """ìµœì í™” ë°œì£¼ í‘œì‹œ"""
    # ìµœì í™” ë°œì£¼ í‘œì‹œ ë¡œì§ë§Œ ë¶„ë¦¬
    pass

def render_order_creation_form(order_df, ...):
    """ë°œì£¼ ìƒì„± í¼"""
    # ë°œì£¼ ìƒì„± UIë§Œ ë¶„ë¦¬
    pass
```

**íš¨ê³¼**: íƒ­ 3ì˜ 800ì¤„ì„ 4ê°œ í•¨ìˆ˜ë¡œ ë¶„ë¦¬í•˜ì—¬ ê°€ë…ì„± í–¥ìƒ

---

### Phase 2: ì¤‘ê¸° ê°œì„  (ì¤‘ê°„ ë¦¬ìŠ¤í¬)

#### 2.1 ë°ì´í„° ë³€í™˜ ë¡œì§ í†µí•©
```python
# src/order_data_transformer.py (ìƒˆ íŒŒì¼)

class OrderDataTransformer:
    """ë°œì£¼ ê´€ë ¨ ë°ì´í„° ë³€í™˜ ì „ë‹´ í´ë˜ìŠ¤"""
    
    @staticmethod
    def prepare_display_dataframe(order_df, ingredient_df):
        """ë°œì£¼ ì¶”ì²œ DataFrameì„ í™”ë©´ í‘œì‹œìš©ìœ¼ë¡œ ë³€í™˜"""
        # ë‹¨ìœ„ ë³€í™˜, í¬ë§·íŒ… ë“± ëª¨ë“  ë³€í™˜ ë¡œì§ í†µí•©
        pass
    
    @staticmethod
    def format_order_columns(df):
        """ë°œì£¼ ê´€ë ¨ ì»¬ëŸ¼ í¬ë§·íŒ…"""
        pass
```

**íš¨ê³¼**: ë°ì´í„° ë³€í™˜ ë¡œì§ì˜ ì¼ê´€ì„± ë° ì¬ì‚¬ìš©ì„± í–¥ìƒ

---

#### 2.2 ìƒíƒœ ê´€ë¦¬ ê°œì„ 
```python
# ë°œì£¼ ê´€ë ¨ session_stateë¥¼ êµ¬ì¡°í™”

# í˜„ì¬: ì—¬ëŸ¬ ê°œì˜ ë…ë¦½ì ì¸ session_state
st.session_state.supplier_success_message
st.session_state.supplier_form_reset
st.session_state.supplier_data_refresh

# ê°œì„ : êµ¬ì¡°í™”ëœ ìƒíƒœ
if 'order_management' not in st.session_state:
    st.session_state.order_management = {
        'supplier': {
            'success_message': None,
            'form_reset': False,
            'data_refresh': False
        },
        'order': {
            'selected_items': [],
            'order_date': None
        }
    }
```

**íš¨ê³¼**: ìƒíƒœ ê´€ë¦¬ ëª…í™•í™”, ë²„ê·¸ ê°ì†Œ

---

### Phase 3: ì¥ê¸° ê°œì„  (ë†’ì€ ë¦¬ìŠ¤í¬, í° íš¨ê³¼)

#### 3.1 ì»´í¬ë„ŒíŠ¸ ê¸°ë°˜ ë¦¬íŒ©í† ë§
- Streamlitì˜ ì»´í¬ë„ŒíŠ¸ íŒ¨í„´ í™œìš©
- ì¬ì‚¬ìš© ê°€ëŠ¥í•œ UI ì»´í¬ë„ŒíŠ¸ ìƒì„±
- ì˜ˆ: `OrderItemCard`, `SupplierForm`, `InventoryTable` ë“±

#### 3.2 ìƒíƒœ ë¨¸ì‹  ë„ì…
- ë°œì£¼ ìƒíƒœ ê´€ë¦¬ (ì˜ˆì • â†’ ì™„ë£Œ â†’ ì…ê³ )
- ìƒíƒœ ì „ì´ ë¡œì§ ëª…í™•í™”

---

## ğŸ“ˆ ê°œì„  íš¨ê³¼ ì˜ˆìƒ

### ì½”ë“œ ê·œëª¨
- **í˜„ì¬**: 1,266ì¤„ (app.py ë‚´)
- **Phase 1 í›„**: ì•½ 200ì¤„ (app.py) + 1,000ì¤„ (src/order_ui.py)
- **ê°€ë…ì„±**: â­â­ â†’ â­â­â­â­

### ìœ ì§€ë³´ìˆ˜ì„±
- **í˜„ì¬**: í•œ íŒŒì¼ì—ì„œ ëª¨ë“  ë¡œì§ ê´€ë¦¬
- **ê°œì„  í›„**: ê¸°ëŠ¥ë³„ ëª¨ë“ˆ ë¶„ë¦¬
- **ë””ë²„ê¹… ì‹œê°„**: 50% ë‹¨ì¶• ì˜ˆìƒ

### í…ŒìŠ¤íŠ¸ ê°€ëŠ¥ì„±
- **í˜„ì¬**: UIì™€ ë¡œì§ í˜¼ì¬ë¡œ í…ŒìŠ¤íŠ¸ ì–´ë ¤ì›€
- **ê°œì„  í›„**: ìˆœìˆ˜ í•¨ìˆ˜ë¡œ ë¶„ë¦¬í•˜ì—¬ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ê°€ëŠ¥

---

## ğŸ¯ ìš°ì„ ìˆœìœ„ ì¶”ì²œ

### ì¦‰ì‹œ ì ìš© (Phase 1.1, 1.2)
1. âœ… ê³µí†µ ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜ ì¶”ì¶œ
2. âœ… íƒ­ë³„ ë Œë”ë§ í•¨ìˆ˜ ë¶„ë¦¬
3. âœ… íƒ­ 3 ì„¸ë¶€ í•¨ìˆ˜ ë¶„ë¦¬

**ì˜ˆìƒ ì‘ì—… ì‹œê°„**: 2-3ì‹œê°„  
**ë¦¬ìŠ¤í¬**: ë‚®ìŒ (ê¸°ëŠ¥ ë³€ê²½ ì—†ìŒ, êµ¬ì¡°ë§Œ ê°œì„ )  
**íš¨ê³¼**: ì¦‰ì‹œ ì²´ê° ê°€ëŠ¥

### ì„ íƒì  ì ìš© (Phase 1.3, 2.1)
- ë°ì´í„° ë³€í™˜ ë¡œì§ í†µí•©
- ìƒíƒœ ê´€ë¦¬ ê°œì„ 

**ì˜ˆìƒ ì‘ì—… ì‹œê°„**: 4-6ì‹œê°„  
**ë¦¬ìŠ¤í¬**: ì¤‘ê°„ (ì¼ë¶€ ë¡œì§ ë³€ê²½ í•„ìš”)  
**íš¨ê³¼**: ì¤‘ê¸°ì ìœ¼ë¡œ ìœ ì§€ë³´ìˆ˜ì„± í–¥ìƒ

---

## ğŸ“ ê²°ë¡ 

### í˜„ì¬ ë³µì¡ë„ í‰ê°€
- **ì „ì²´ í‰ê°€**: âš ï¸ **ë³µì¡í•¨** (1,266ì¤„, íŠ¹íˆ íƒ­ 3ì´ 800ì¤„)
- **ê°œì„  í•„ìš”ì„±**: â­â­â­â­ (ë†’ìŒ)
- **ê¸´ê¸‰ë„**: â­â­ (ì¤‘ê°„ - ê¸°ëŠ¥ì€ ì‘ë™í•˜ì§€ë§Œ ìœ ì§€ë³´ìˆ˜ ì–´ë ¤ì›€)

### ê¶Œì¥ ì‚¬í•­
1. **ì¦‰ì‹œ**: Phase 1.1, 1.2 ì ìš© (ë‚®ì€ ë¦¬ìŠ¤í¬, ë†’ì€ íš¨ê³¼)
2. **ì¤‘ê¸°**: Phase 1.3, 2.1 ê²€í†  (í•„ìš”ì‹œ ì ìš©)
3. **ì¥ê¸°**: Phase 3ì€ ê¸°ëŠ¥ ì¶”ê°€ ì‹œ í•¨ê»˜ ì§„í–‰

### ì£¼ì˜ì‚¬í•­
- **ê¸°ëŠ¥ ë³€ê²½ ê¸ˆì§€**: ë¦¬íŒ©í† ë§ì€ êµ¬ì¡°ë§Œ ê°œì„ , ê¸°ëŠ¥ì€ ê·¸ëŒ€ë¡œ ìœ ì§€
- **ì ì§„ì  ì ìš©**: í•œ ë²ˆì— ëª¨ë“  ê²ƒì„ ë°”ê¾¸ì§€ ë§ê³  ë‹¨ê³„ì ìœ¼ë¡œ ì§„í–‰
- **í…ŒìŠ¤íŠ¸**: ê° ë‹¨ê³„ë§ˆë‹¤ ê¸°ëŠ¥ì´ ì •ìƒ ì‘ë™í•˜ëŠ”ì§€ í™•ì¸

---

## ğŸ’¡ ì¶”ê°€ ì œì•ˆ

### ì½”ë“œ ë¦¬ë·° ì²´í¬ë¦¬ìŠ¤íŠ¸
- [ ] ê° í•¨ìˆ˜ê°€ 50ì¤„ ì´í•˜ì¸ê°€?
- [ ] ì¤‘ë³µ ì½”ë“œê°€ 3íšŒ ì´ìƒ ë°˜ë³µë˜ëŠ”ê°€?
- [ ] UI ë¡œì§ê³¼ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì´ ë¶„ë¦¬ë˜ì–´ ìˆëŠ”ê°€?
- [ ] ì—ëŸ¬ ì²˜ë¦¬ê°€ ì¼ê´€ì„± ìˆê²Œ ë˜ì–´ ìˆëŠ”ê°€?

### ë¦¬íŒ©í† ë§ ì›ì¹™
1. **ì‘ì€ ë‹¨ìœ„ë¡œ ë‚˜ëˆ„ê¸°**: í° í•¨ìˆ˜ë¥¼ ì‘ì€ í•¨ìˆ˜ë¡œ ë¶„í•´
2. **ë‹¨ì¼ ì±…ì„ ì›ì¹™**: ê° í•¨ìˆ˜ëŠ” í•˜ë‚˜ì˜ ì¼ë§Œ ìˆ˜í–‰
3. **DRY (Don't Repeat Yourself)**: ì¤‘ë³µ ì½”ë“œ ì œê±°
4. **ëª…í™•í•œ ë„¤ì´ë°**: í•¨ìˆ˜/ë³€ìˆ˜ ì´ë¦„ë§Œ ë´ë„ ì—­í•  íŒŒì•… ê°€ëŠ¥
