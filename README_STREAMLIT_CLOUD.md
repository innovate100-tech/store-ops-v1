# Streamlit Cloud ë°°í¬ ê°€ì´ë“œ

Store Ops v1ì„ Streamlit Cloudì— ë°°í¬í•˜ëŠ” ë°©ë²•ì…ë‹ˆë‹¤.

## ğŸ“‹ ì „ì œ ì¡°ê±´

1. GitHub ì €ì¥ì†Œì— ì½”ë“œê°€ ì˜¬ë¼ê°€ ìˆì–´ì•¼ í•©ë‹ˆë‹¤
2. Supabase í”„ë¡œì íŠ¸ê°€ ì„¤ì •ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤
3. `schema.sql`ì´ Supabaseì—ì„œ ì‹¤í–‰ë˜ì–´ ìˆì–´ì•¼ í•©ë‹ˆë‹¤

## ğŸš€ ë°°í¬ ì ˆì°¨

### 1ë‹¨ê³„: GitHubì— ì½”ë“œ í‘¸ì‹œ

```bash
git add .
git commit -m "Supabase ì—°ë™ ì™„ë£Œ"
git push origin main
```

âš ï¸ **ì¤‘ìš”**: `.streamlit/secrets.toml` íŒŒì¼ì€ ì ˆëŒ€ ì»¤ë°‹í•˜ì§€ ë§ˆì„¸ìš”! (`.gitignore`ì— í¬í•¨ë¨)

### 2ë‹¨ê³„: Streamlit Cloudì—ì„œ ì•± ìƒì„±

1. [Streamlit Cloud](https://streamlit.io/cloud) ì ‘ì† ë° ë¡œê·¸ì¸
2. "New app" ë²„íŠ¼ í´ë¦­
3. ì„¤ì •:
   - **Repository**: GitHub ì €ì¥ì†Œ ì„ íƒ
   - **Branch**: `main` (ë˜ëŠ” ì‚¬ìš© ì¤‘ì¸ ë¸Œëœì¹˜)
   - **Main file path**: `app.py`
4. "Deploy!" í´ë¦­

### 3ë‹¨ê³„: Secrets ì„¤ì •

1. ì•± ëŒ€ì‹œë³´ë“œì—ì„œ **âš™ï¸ Settings** (í†±ë‹ˆë°”í€´ ì•„ì´ì½˜) í´ë¦­
2. ì™¼ìª½ ë©”ë‰´ì—ì„œ **Secrets** ì„ íƒ
3. ë‹¤ìŒ ë‚´ìš©ì„ ì…ë ¥:

```toml
[supabase]
url = "https://your-project-id.supabase.co"
anon_key = "your-anon-key-here"
```

4. **Save** í´ë¦­
5. ì•±ì´ ìë™ìœ¼ë¡œ ì¬ë°°í¬ë©ë‹ˆë‹¤

### 4ë‹¨ê³„: í™•ì¸

1. ì•± URLë¡œ ì ‘ì†
2. ë¡œê·¸ì¸ í™”ë©´ì´ í‘œì‹œë˜ëŠ”ì§€ í™•ì¸
3. Supabase ê³„ì •ìœ¼ë¡œ ë¡œê·¸ì¸ í…ŒìŠ¤íŠ¸

## ğŸ” Supabase API í‚¤ í™•ì¸ ë°©ë²•

1. Supabase í”„ë¡œì íŠ¸ ëŒ€ì‹œë³´ë“œ ì ‘ì†
2. **Settings** (ì™¼ìª½ í•˜ë‹¨ í†±ë‹ˆë°”í€´) í´ë¦­
3. **API** ë©”ë‰´ ì„ íƒ
4. ë‹¤ìŒ ê°’ ë³µì‚¬:
   - **Project URL**: `url` ê°’ì— ì…ë ¥
   - **anon public key**: `anon_key` ê°’ì— ì…ë ¥

## âš ï¸ ì£¼ì˜ì‚¬í•­

- `service_role_key`ëŠ” ì ˆëŒ€ Streamlit Cloud Secretsì— ë„£ì§€ ë§ˆì„¸ìš”!
- SecretsëŠ” ì €ì¥ ì¦‰ì‹œ ì•”í˜¸í™”ë˜ì–´ ì €ì¥ë©ë‹ˆë‹¤
- Secretsë¥¼ ë³€ê²½í•˜ë©´ ì•±ì´ ìë™ìœ¼ë¡œ ì¬ë°°í¬ë©ë‹ˆë‹¤

## ğŸ› ë¬¸ì œ í•´ê²°

### "Supabase not available" ì˜¤ë¥˜

- Secretsì— `url`ê³¼ `anon_key`ê°€ ì˜¬ë°”ë¥´ê²Œ ì…ë ¥ë˜ì—ˆëŠ”ì§€ í™•ì¸
- TOML í˜•ì‹ì´ ì˜¬ë°”ë¥¸ì§€ í™•ì¸ (ëŒ€ê´„í˜¸, ë”°ì˜´í‘œ ë“±)

### ë¡œê·¸ì¸ ì‹¤íŒ¨

- Supabaseì—ì„œ ì‚¬ìš©ì ê³„ì •ì´ ìƒì„±ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸
- `user_profiles` í…Œì´ë¸”ì— í”„ë¡œí•„ì´ ë“±ë¡ë˜ì–´ ìˆëŠ”ì§€ í™•ì¸

### ë°ì´í„°ê°€ ë³´ì´ì§€ ì•ŠìŒ

- ë¡œê·¸ì¸í•œ ì‚¬ìš©ìì˜ `store_id`ê°€ ì˜¬ë°”ë¥¸ì§€ í™•ì¸
- Supabase RLS ì •ì±…ì´ ì˜¬ë°”ë¥´ê²Œ ì„¤ì •ë˜ì—ˆëŠ”ì§€ í™•ì¸
