# 🛒 발주관리 페이지 재기획안

**작성일**: 2026-01-19  
**목표**: 기능 추가 없이 현재 기능들로만 더 직관적이고 사용하기 쉬운 구조로 재구성

---

## 📊 현재 구조 분석

### 현재 탭 구조 (6개)
1. **🛡️ 안전재고 등록** - 재료별 안전재고 설정
2. **📦 현재 재고 현황** - 재고 조회 및 현재고 수정
3. **🛒 발주 추천** - 품절 위험 알림, 발주 추천 리스트, 최적화 발주
4. **📋 진행 현황** - 발주 이력 조회
5. **🏢 공급업체** - 공급업체 등록/삭제, 재료-공급업체 매핑
6. **📊 발주 분석** - 분석 기능

### 현재 문제점
- **기능 분산**: 재고 관련 기능이 1, 2번 탭에 분산
- **플로우 불명확**: 발주 추천 → 발주 생성 → 진행 현황의 흐름이 불명확
- **탭이 너무 많음**: 6개 탭으로 인한 탐색 부담
- **관련 기능 분리**: 공급업체와 재료-공급업체 매핑이 같은 탭에 있지만 논리적 흐름이 부족

---

## 🎯 재기획 방향

### 핵심 원칙
1. **사용자 플로우 중심**: 실제 발주 업무 흐름에 맞춘 구조
2. **논리적 그룹화**: 관련 기능들을 한 곳에 모음
3. **탭 수 최소화**: 4-5개 탭으로 단순화
4. **명확한 네이밍**: 각 탭의 목적이 명확히 드러나도록

---

## 📋 재기획된 구조

### 새로운 탭 구조 (4개)

#### 1. 📦 **재고 관리** (기존 1, 2번 탭 통합)
**목적**: 재고 현황 파악 및 설정

**포함 기능**:
- 현재 재고 현황 조회 (기존 2번 탭)
- 안전재고 등록/수정 (기존 1번 탭)
- 현재고 수정 (기존 2번 탭 하단)

**구성**:
```
[재고 현황 표시]
  - 재료명, 단위, 발주단위
  - 현재고, 안전재고, 차이
  - 품절 위험 표시 (현재고 < 안전재고)

[안전재고 설정]
  - 재료별 안전재고 입력/수정

[현재고 수정]
  - 재료별 현재고 입력/수정
```

**이점**:
- 재고 관련 모든 기능을 한 곳에서 관리
- 현재고와 안전재고를 동시에 확인 가능
- 재고 상태를 한눈에 파악

---

#### 2. 🛒 **발주 추천** (기존 3번 탭 개선)
**목적**: 발주 필요 재료 파악 및 발주 생성

**포함 기능**:
- 품절 위험 알림 (기존 3번 탭)
- 발주 추천 리스트 (기존 3번 탭)
- 최적화 발주 (기존 3번 탭)
- 발주 생성 (기존 3번 탭)

**구성**:
```
[알림 섹션]
  - 🚨 품절 위험 재료 (예상 소진일 포함)
  - ⏰ 발주 미완료 리마인더
  - 📦 입고 예정 알림

[발주 추천 리스트]
  - 발주 필요 재료 목록
  - 예상 소요량 계산
  - 예상 금액 계산
  - CSV 다운로드

[최적화 발주]
  - 공급업체별 통합 발주
  - 배송비 절감 계산
  - 최소 주문금액 확인

[발주 생성]
  - 발주 추천 리스트에서 발주 생성
  - 발주일 선택
  - 공급업체 선택
```

**이점**:
- 발주 추천부터 생성까지 한 흐름으로 처리
- 알림과 추천이 함께 표시되어 우선순위 파악 용이

---

#### 3. 📋 **발주 이력** (기존 4번 탭)
**목적**: 발주 내역 조회 및 관리

**포함 기능**:
- 발주 이력 조회 (기존 4번 탭)
- 발주 상태별 필터링 (기존 4번 탭)
- 발주 상세 정보 (기존 4번 탭)

**구성**:
```
[발주 이력 목록]
  - 발주일시별 그룹화
  - 재료별 발주 내역
  - 공급업체별 발주 내역
  - 발주 금액 합계

[필터 옵션]
  - 기간별 필터
  - 공급업체별 필터
  - 재료별 필터
  - 상태별 필터 (예정/완료/입고)
```

**이점**:
- 발주 내역을 체계적으로 관리
- 과거 발주 패턴 파악 가능

---

#### 4. 🏢 **공급업체 관리** (기존 5번 탭)
**목적**: 공급업체 정보 및 매핑 관리

**포함 기능**:
- 공급업체 등록/삭제 (기존 5번 탭)
- 재료-공급업체 매핑 (기존 5번 탭)
- 공급업체 목록 조회 (기존 5번 탭)

**구성**:
```
[공급업체 등록]
  - 공급업체 정보 입력
  - 연락처, 배송 정보

[공급업체 목록]
  - 등록된 공급업체 조회
  - 취급 품목 표시

[재료-공급업체 매핑]
  - 재료별 공급업체 지정
  - 공급업체별 단가 설정
  - 기본 공급업체 설정
```

**이점**:
- 공급업체 관련 모든 기능을 한 곳에서 관리
- 재료와 공급업체의 관계를 명확히 파악

---

## 🔄 사용자 플로우

### 일반적인 발주 업무 흐름

```
1. 재고 관리 탭
   ↓
   - 현재 재고 현황 확인
   - 안전재고 설정 (필요시)
   - 현재고 수정 (입고 후)

2. 발주 추천 탭
   ↓
   - 품절 위험 알림 확인
   - 발주 추천 리스트 확인
   - 최적화 발주 확인
   - 발주 생성

3. 발주 이력 탭
   ↓
   - 발주 내역 확인
   - 발주 상태 확인

4. 공급업체 관리 탭 (필요시)
   ↓
   - 공급업체 정보 관리
   - 재료-공급업체 매핑 설정
```

---

## 📊 비교표

| 항목 | 현재 구조 | 재기획 구조 |
|------|----------|------------|
| 탭 수 | 6개 | 4개 |
| 재고 관련 | 2개 탭 분산 | 1개 탭 통합 |
| 발주 흐름 | 추천/이력 분리 | 추천/이력 연계 |
| 공급업체 | 별도 탭 | 별도 탭 (유지) |
| 분석 기능 | 별도 탭 | 발주 추천 탭에 통합 |

---

## 🎨 UI/UX 개선안

### 1. 재고 관리 탭
- **상단**: 재고 현황 요약 카드 (품절 위험 개수, 총 재고 가치)
- **중간**: 재고 현황 테이블 (필터링, 검색 기능)
- **하단**: 안전재고/현재고 수정 섹션 (접기/펼치기)

### 2. 발주 추천 탭
- **상단**: 알림 섹션 (접기/펼치기 가능)
- **중간**: 발주 추천 리스트 (체크박스로 선택 가능)
- **하단**: 최적화 발주 및 발주 생성 버튼

### 3. 발주 이력 탭
- **상단**: 필터 옵션 (기간, 공급업체, 재료, 상태)
- **중간**: 발주 이력 목록 (날짜별 그룹화)
- **하단**: 발주 상세 정보 (선택 시)

### 4. 공급업체 관리 탭
- **상단**: 공급업체 등록 폼 (접기/펼치기)
- **중간**: 공급업체 목록 (검색, 필터링)
- **하단**: 재료-공급업체 매핑 (접기/펼치기)

---

## ✅ 구현 우선순위

### Phase 1: 탭 통합 (즉시)
1. 재고 관리 탭: 1, 2번 탭 통합
2. 발주 추천 탭: 3번 탭 유지 (알림 섹션 강화)

### Phase 2: UI 개선 (선택)
1. 각 탭 내 섹션 구분 명확화
2. 접기/펼치기 기능 추가
3. 필터링/검색 기능 강화

---

## 📝 구현 시 주의사항

1. **기존 기능 유지**: 모든 기능은 그대로 유지하되 구조만 변경
2. **데이터 호환성**: 기존 데이터 구조 그대로 사용
3. **사용자 경험**: 탭 전환 시 상태 유지 (session_state 활용)
4. **성능**: 데이터 로딩 최적화 유지

---

## 🎯 기대 효과

1. **탐색 시간 단축**: 6개 → 4개 탭으로 단순화
2. **업무 흐름 개선**: 논리적 그룹화로 직관적 사용
3. **재고 관리 효율**: 재고 관련 기능 통합으로 한눈에 파악
4. **발주 프로세스 명확화**: 추천 → 생성 → 이력의 흐름 명확

---

## 📌 결론

현재 기능을 유지하면서도 더 직관적이고 사용하기 쉬운 구조로 재구성하여, 사용자가 발주 업무를 더 효율적으로 수행할 수 있도록 개선합니다.
